<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <!-- explicit list view definition -->
   <record model="ir.ui.view" id="geo_certifications.list">
      <field name="name">Certificaciones</field>
      <field name="model">certifications.certification</field>
      <field name="arch" type="xml">
        <tree>
          <field name="parte"/>
          <field name="pozo"/>
		  <field name="operadora" />
		  <field name="yacimiento"/>
        </tree>
      </field>
    </record>
    
    <record model="ir.ui.view" id="geo_certifications.supervisor_list">
    	<field name="name">Supervisores</field>
    	<field name="model">certifications.supervisor</field>
    	<field name="arch" type="xml">
    		<tree>
    			<field name="nombre"/>
    			<field name="apellido"/>
    			<field name="operacionesHechas" string="Operaciones Realizadas"/>
    			<field name="nivelOperacion" string="Nivel de Operaciones"/>
    		</tree>
		</field>
    </record>
    
    <record model="ir.ui.view" id="geo_certifications.stage_list">
    	<field name="name">Etapas de proyecto</field>
    	<field name="model">certifications.certification.stage</field>
    	<field name="arch" type="xml">
    		<tree>
    			<field name="name" string="Nombre"/>
    			<field name="description" string="Descripcion"/>
    			<field name="fold" string="Replegada en la vista Kanban"/>
    			<field name="sequence" string="Secuencia"/>
    		</tree>
		</field>
    </record>


    <record model="ir.ui.view" id="geo_certifications.kanban">
      <field name="name">Certificaciones</field>
      <field name="model">certifications.certification</field>
      <field name="arch" type="xml">
         <kanban default_group_by="stage"  quick_create="true" delete="true" edit="true" class="o_kanban_small_column">
          <field name="color"/>
          <field name="parte"/>
          <field name="pozo"/>
		  <field name="operadora" />
		  <field name="yacimiento"/>           
		  <field name="stage"/>           
             <templates>
                 <t t-name="kanban-box">
                     <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.id.raw_value)} oe_kanban_card oe_kanban_global_click">

                            <div class="o_dropdown_kanban dropdown" groups="base.group_user">
                                <a class="dropdown-toggle btn" data-toggle="dropdown" href="#" >
                                    <span class="fa fa-bars fa-lg"/>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                    <t t-if="widget.editable"><li><a type="edit">Editar Proyecto</a></li></t>
                                    <t t-if="widget.deletable"><li><a type="delete">Delete</a></li></t>
                                    <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
                                </ul>
                            </div>
		                     <div style="position: relative">
		                         <div class="oe_module_vignette">
		                             <div class="oe_module_desc">
		                                  <field name="parte"/>
								          <field name="pozo"/>
										  <field name="operadora" />
										  <field name="yacimiento"/>
		                                  <field name="stage"/>
		                             </div>
		                         </div>
		                     </div>
		              </div>
                 </t>
             </templates>
         </kanban>
   	  </field>
    </record>
    
    
    <record id="geo_certifications.form" model="ir.ui.view">
            <field name="name">certifications.certification.form</field>
            <field name="model">certifications.certification</field>
            <field name="arch" type="xml">
                <form string="Certificaciones">
                <header>
                    <field name="stage" widget="statusbar" clickable="True"/>
                </header>
                <sheet string="Certificaciones">
 					<div class="oe_title">
                        <h1>
                            <field name="operadora" placeholder="Operadora"/>
                        </h1>
                        <div name="options_active">
                            <div>
                                <label for="parte" class="oe_inline"/>
                                <field name="parte" class="oe_inline" string="Parte"/>
                            </div>
                        </div>
                    </div>
                    <group name="trabajo">
                                <field name="pozo" class="oe_inline" string="Pozo"/>
                                <field name="yacimiento" class="oe_inline" string="Yacimiento"/>
                                <field name="supervisor" class="oe_inline" string="Supervisor"/>
                                <field name="equipo" class="oe_inline" string="Equipo"/>
                                <field name="bombeador" class="oe_inline" string="Bombeador"/>
                    </group>
                    <group name="operacion">
                                <field name="operacion" class="oe_inline" string="Operacion"/>
                                <field name="blscemento" class="oe_inline" string="Blis de Cemento" widget="integer"/>
                    </group>
                    <group name="valor">
                                <field name="valorServicios" class="oe_inline" string="Valor de Servicios" widget="monetary"/>
                                <field name="valorProductos" class="oe_inline" string="Valor de Productos"  widget="monetary"/>
                                <field name="ValorTotal" class="oe_inline" string="Total"/>
                                <field name="fechacierre" class="oe_inline" string="Fecha de Cierre"  widget="date"/>
                                <field name="confirmacion" class="oe_inline" string="Confirmacion"/>
                    </group>
                                <field name="color" class="oe_inline" string="Color" invisible="True"/>
                </sheet>
<!--     			  <notebook> -->
<!--                      <page string="Etapas"> -->
<!--                      	many2many_checkboxes -->
<!--                  	 </page> -->
<!--                   </notebook> -->
               </form>
            </field>
	</record>
                  
    
    
	<record id="geo_certifications.supervisor_form" model="ir.ui.view">
            <field name="name">certifications.supervisor.form</field>
            <field name="model">certifications.supervisor</field>
            <field name="arch" type="xml">
                <form string="Supervisor">
                <sheet string="Supervisor">
 					<div class="oe_title">
                        <h1>
                            <field name="nombre" class="oe_inline" placeholder="Nombre" />
                            <field name="apellido" class="oe_inline"  placeholder="Apellido"/>
                        </h1>
                    </div>
                    <group name="trabajo">
                    		<field name="numeroSupervisor" class="oe_inline" string="Numero de operador"/>
                          	<field name="operacionesHechas" class="oe_inline"  string="Operaciones Realizadas"/>
                          	<field name="nivelOperacion" class="oe_inline"  string="Nivel de Operacion"/>
                    </group>
                 </sheet>
            	</form>
			</field>
	</record>
                    
                    
                    
    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="geo_certifications.action_window">
      <field name="name">Proyectos</field>
      <field name="res_model">certifications.certification</field>
      <field name="view_type">form</field>
      <field name="view_mode">kanban,tree,form</field>
      
<!--       <field name="view_mode">kanban,tree,form,calendar,pivot,graph</field> -->
      <field name="search_view_id" ref="geo_certifications.list"/>
      
    </record>
    
    <record model="ir.actions.act_window" id="geo_certifications.superviros_action_window">
    	<field name="name">Supervisores</field>
    	<field name="res_model">certifications.supervisor</field>
    	<field name="view_mode">tree,form</field>
    	<field name="search_view_id" ref="geo_certifications.supervisor_list"/>
    </record>
    
    <record model="ir.actions.act_window" id="geo_certifications.stages_action_window">
    	<field name="name">Etapas de proyecto</field>
    	<field name="res_model">certifications.certification.stage</field>
    	<field name="view_mode">tree,form</field>
    	<field name="search_view_id" ref="geo_certifications.stage_list"/>
    </record>
    
    

    <!-- server action to the one above -->
    <!--
    <record model="ir.actions.server" id="geo_certifications.action_server">
      <field name="name">geo_certifications server</field>
      <field name="model_id" ref="model_geo_certifications_geo_certifications"/>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": self._name,
        }
      </field>
    </record>
    -->
  
    <record id="group_certification_user" model="res.groups">
        <field name="name">Usuario</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="category_id" ref="base.module_category_project_management"/>
        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    </record>

    <record id="group_certification_manager" model="res.groups">
        <field name="name">Administrador</field>
        <field name="category_id" ref="base.module_category_project_management"/>
        <field name="implied_ids" eval="[(4, ref('group_certification_user'))]"/>
        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    </record>
  
  
  
    <!-- Top menu item -->
    <menuitem name="Certificaciones" id="base.menu_main_cert"
            groups="group_certification_manager,group_certification_user"
            icon="fa-calendar"
            web_icon="project,static/description/icon.png"
            sequence="250"
            action="geo_certifications.action_window"/>
    
    <!-- menu categories -->
    <menuitem name="Certificaciones" id="geo_certifications.left_menu_category" parent="base.menu_main_cert"/>
    <menuitem name="Lista" id="geo_certifications.left_menu_list" parent="geo_certifications.left_menu_category"
    		 action="geo_certifications.action_window"/>
   	<menuitem name="Supervisores" id="geo_certifications.supervisors_left_menu_list" parent="geo_certifications.left_menu_category"
   			 action="geo_certifications.superviros_action_window"/>
   	<menuitem name="Etapas de Proyecto" id="geo_certifications.stage_left_menu_list" parent="geo_certifications.left_menu_category"
   			 action="geo_certifications.stages_action_window"/>
    <!--
    -->
    <!-- actions -->
    <!--
    <menuitem name="List" id="geo_certifications.menu_1_list" parent="geo_certifications.menu_1"
              action="geo_certifications.action_window"/>
    <menuitem name="Server to list" id="geo_certifications" parent="geo_certifications.menu_2"
              action="geo_certifications.action_server"/>
    -->
  </data>
</openerp>