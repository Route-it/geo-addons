<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <!-- explicit list view definition -->
   <record model="ir.ui.view" id="geo_certifications.list">
      <field name="name">Certificaciones</field>
      <field name="model">certifications.certification</field>
      <field name="arch" type="xml">
        <tree colors="green:state == 'aprobado'">
          <field name="parte" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
          <field name="state" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
          <field name="pozo" />
		  <field name="operadora" />
		  <field name="yacimiento"/>
		  <field name="operacion" string="Operaci贸n"/>
		  <field name="valorservicios" groups="geo_certifications.group_name_certification_user_reader_accounting"/>
		  <field name="valorproductos" groups="geo_certifications.group_name_certification_user_reader_accounting"/>
		  <field name="valortotal" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
		  <field name="valor_a_facturar" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
		  <field name="fecha_realizacion"/>
        </tree>
      </field>
    </record>

	<record id="certifications_search" model="ir.ui.view">
		<field name="name">certifications.search</field>
		<field name="model">certifications.certification</field>
		<field name="arch" type="xml">
			<search>
				<field name="parte" />
          		<field name="state" />
          		<field name="pozo" />
		  		<field name="operadora" />
		  		<field name="yacimiento"/>
		  		<field name="operacion" string="Operaci贸n"/>
		  		<field name="fecha_realizacion"/>
				<group expand="0" string="Agrupar por">
					<filter string="Mes" domain="[ ]" context="{'group_by': 'fecha_realizacion:month'}" />
				</group>
			</search>
		</field>
	</record>    
    <record id="geo_certifications.form" model="ir.ui.view">
            <field name="name">certifications.certification.form</field>
            <field name="model">certifications.certification</field>
            <field name="arch" type="xml">
                <form string="Certificaciones">
                <header>
                	<button name="set_carga" type="object" string="A Carga" states="validado" class="oe_highlight" groups="base.group_user"/>
                    <button name="set_validado" type="object" string="Validar"  states="carga,operadora" class="oe_highlight" groups="base.group_user"/>
                    <button name="set_operadora" type="object" string="A Operadora"  states="validado,aprobado" class="oe_highlight" groups="base.group_user"/>
                    <button name="set_aprobado" type="object" string="Aprobar"  states="operadora" class="oe_highlight" groups="base.group_user"/>
                	
                    <field name="state" widget="statusbar" readOnly="True"/>
                </header>
                <sheet string="Certificaciones">
 					<div class="oe_title">
                        <h1>
                            <field name="operadora" placeholder="Operadora"/>
                        </h1>
                        <div name="options_active">
                            <div>
                                <label for="parte" class="oe_inline"/>
                                <field name="parte" class="oe_inline" string="Parte"/>
                            </div>
                        </div>
                    </div>
                    <group name="trabajo">
                                <field name="fecha_realizacion" string="Fecha de Realizaci贸n" class="oe_inline" widget="date"/>
                                <field name="pozo" class="oe_inline" string="Pozo"/>
                                <field name="yacimiento" class="oe_inline" string="Yacimiento"/>
                                <field name="supervisor" class="oe_inline" string="Supervisor" />
                                <field name="equipo" class="oe_inline" string="Equipo"/>
                                <field name="bombeador" class="oe_inline" string="Bombeador"/>
                    
                                <field name="operacion" class="oe_inline" string="Operacion"/>
                                <field name="blscemento" class="oe_inline" string="Bolsas de Cemento" widget="integer"/>
                 
                                <field name="valorservicios" class="oe_inline" string="Valor de Servicios" widget="monetary" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
                                <field name="valorproductos" class="oe_inline" string="Valor de Productos"  widget="monetary" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
                                <field name="valortotal" class="oe_inline" string="Total" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
                                <field name="valor_a_facturar" groups="geo_certifications.group_name_certification_administrator,geo_certifications.group_name_certification_user,geo_certifications.group_name_certification_user_reader"/>
                                <field name="fechacierre" class="oe_inline" string="Fecha de Cierre"  widget="date"/>
                               
                                <!---->
                    </group>
                    <group>
                    	<group>
                        	<field name="tipo_confirmacion" class="oe_inline" attrs="{'readonly':[('state','!=','operadora')],'required':[('state','=','aprobado')]}"></field>
                        </group>
                        <group col="2">
                        	<field name="confirmacion" class="oe_inline" string="Confirmaci贸n" attrs="{'readonly':[('state','!=','operadora')],'required':[('state','=','aprobado')]}"/>
                        </group>
                    </group>
                </sheet>
     			  	<div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
               </form>
            </field>
	</record>
    
	<record id="view_certifications_certification_graph" model="ir.ui.view">
		<field name="name">certifications.certification.graph</field>
        <field name="model">certifications.certification</field>
        <field name="arch" type="xml">
        <graph string="Certificaciones" type="bar">
        </graph>
        </field>
    </record>

	<record id="view_certifications_certification_pivot" model="ir.ui.view">
		<field name="name">certifications.certification.pivot</field>
        <field name="model">certifications.certification</field>
        <field name="arch" type="xml">
	        <pivot string="Certificaciones" >
	        	<field name="fecha_realizacion" type="row"/>
	        	<field name="operadora" type="col"/>
	        	<field name="valortotal" type="measure"/>
	        </pivot>
        </field>
    </record>
    
    
    
  </data>
</openerp>